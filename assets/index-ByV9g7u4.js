(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const d=document.getElementById("task-input"),y=document.getElementById("task-priority"),h=document.getElementById("add-btn"),u=document.getElementById("important-list"),p=document.getElementById("due-list"),m=document.getElementById("normal-list"),l=document.getElementById("completed-list"),c="todo-tasks";function a(){const o=JSON.parse(localStorage.getItem(c)||"[]"),e=new Date().toISOString().slice(0,10);return o.filter(t=>t.date===e)}function I(o){localStorage.setItem(c,JSON.stringify(o))}function f(){const o=a();[u,p,m,l].forEach(e=>e.innerHTML=""),o.forEach(e=>{const t=document.createElement("li");t.className=`${e.priority} ${e.done?"completed":""}`,t.innerHTML=`
      <span>${e.text}</span>
      <div>
        <button class="complete-btn"
                aria-label="${e.done?"Restore Task":"Mark as Complete"}">
          <i class="${e.done?"fas fa-undo":"fas fa-check"}" aria-hidden="true"></i>
        </button>
      </div>`,t.querySelector(".complete-btn").onclick=()=>{e.done=!e.done,g(o)},e.done?l.appendChild(t):e.priority==="important"?u.appendChild(t):e.priority==="due"?p.appendChild(t):m.appendChild(t)})}function g(o){const t=JSON.parse(localStorage.getItem(c)||"[]").filter(i=>i.date!==new Date().toISOString().slice(0,10));I([...t,...o]),f()}h.onclick=()=>{const o=d.value.trim();if(!o)return;const e=a();e.push({text:o,priority:y.value,done:!1,date:new Date().toISOString().slice(0,10)}),g(e),d.value=""};setInterval(()=>{const o=new Date;o.getHours()===17&&o.getMinutes()===30&&a().filter(t=>!t.done&&(t.priority==="important"||t.priority==="due")).length&&alert("You still have high-priority tasks pending. Consider moving them to tomorrow.")},6e4);f();document.querySelector(".group.completed h2").onclick=o=>{l.classList.toggle("hidden")};
